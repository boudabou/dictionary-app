(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(t,e,a){t.exports=a.p+"static/media/logo.5d5d9eef.svg"},35:function(t,e,a){t.exports=a(91)},41:function(t,e,a){},43:function(t,e,a){},91:function(t,e,a){"use strict";a.r(e);var i=a(0),n=a.n(i),s=a(6),r=a.n(s),o=(a(41),a(9)),c=a(7),d=a(11),l=a(10),u=a(12),h=a(34),f=a.n(h);a(43),i.Component,Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(45);var m=a(2),p=a(8),v=(a(89),{mode:"checkbox"}),g={mode:"click",blurToSave:!0},b=function(t){function e(){var t;return Object(o.a)(this,e),(t=Object(d.a)(this,Object(l.a)(e).call(this))).state={tab_id:null,button_group_id:null,error_id:null,error_div_id:null,button_check_prefix:null,low_opacity:.5,high_opacity:1,data:[],conflicts:{chains:[],duplicates:[]}},t.onAfterDeleteRow=t.onAfterDeleteRow.bind(Object(m.a)(Object(m.a)(t))),t.onAfterInsertRow=t.onAfterInsertRow.bind(Object(m.a)(Object(m.a)(t))),t.domainValidator=t.domainValidator.bind(Object(m.a)(Object(m.a)(t))),t.rangeValidator=t.rangeValidator.bind(Object(m.a)(Object(m.a)(t))),t.addButton=t.addButton.bind(Object(m.a)(Object(m.a)(t))),t.validateButtons=t.validateButtons.bind(Object(m.a)(Object(m.a)(t))),t.getConflicts=t.getConflicts.bind(Object(m.a)(Object(m.a)(t))),t.resetButtons=t.resetButtons.bind(Object(m.a)(Object(m.a)(t))),t.updateConflicts=t.updateConflicts.bind(Object(m.a)(Object(m.a)(t))),t.getDomainRangeForId=t.getDomainRangeForId.bind(Object(m.a)(Object(m.a)(t))),t}return Object(u.a)(e,t),Object(c.a)(e,[{key:"getDomainRangeForId",value:function(t){var e=this.state.data[this.state.data.findIndex(function(e){return e.id===t})];return[e.domain,e.range]}},{key:"onAfterDeleteRow",value:function(t){var e=this,a=[],i=[];for(var n in this.state.data){if(-1===t.indexOf(this.state.data[n].id))a.push(this.state.data[n]);else{var s=document.getElementById(this.state.button_check_prefix+this.state.data[n].id);s.parentNode.removeChild(s)}}for(var r in this.state.conflicts.duplicates){var o=this.state.conflicts.duplicates[r];(o=o.filter(function(e,a,i){return-1===t.indexOf(e)})).length>0&&i.push(o)}var c=this.state;c.data=a,c.conflicts.duplicates=i,this.computeChains(),this.setState(c),setTimeout(function(){e.resetButtons()},200)}},{key:"onAfterInsertRow",value:function(t){var e=this.state;e.data.push(t),this.updateConflicts(t),this.setState(e),this.computeChains(),this.addButton(t.id)}},{key:"computeChains",value:function(){var t=[];for(var e in this.state.data){var a=this.state.data[e];for(var i in this.state.data){var n=this.state.data[i];a.id!==n.id&&(a.range===n.domain&&t.push([a.id,n.id]))}}for(var s=!0;s;){var r=[],o=[];for(var c in s=!1,t)if(!o.includes(c))for(var d in t)if(!(d<=c||o.includes(d))){var l=t[c],u=t[d];if(l[0]!==u[u.length-1])l[l.length-1]!==u[0]||(u.shift(),r.push(l.concat(u)),s=!0,o=o.concat([c,d]));else{a=u[0],n=l[l.length-1];l.shift(),r.push(u.concat(l)),s=!0,o=o.concat([c,d])}}for(var h in t)o.includes(h)||r.push(t[h]);t=r}var f=t;r=[];for(var m=0;f.length>0&&m<10;)if(m+=1,(h=f.pop())[0]!==h[h.length-1]){var p=!1;for(var v in h){var g=h[v],b=h.slice(v+1,h.length).indexOf(g);if(b>0){b=parseInt(b)+parseInt(v)+1;var y=h.slice(0,v+1);y.length>1&&f.push(y);var _=h.slice(v,b+1);_.length>1&&f.push(_);var E=h.slice(b,h.length);E.length>1&&f.push(E),p=!0;break}}p||r.push(h)}else r.push(h);this.state.conflicts.chains=r,this.setState(this.state)}},{key:"rangeValidator",value:function(t,e){var a=this;return this.state.data.findIndex(function(t){return t.id===e.id})>-1&&setTimeout(function(){a.computeChains(),a.resetButtons()},200),{isValid:!0,notification:{type:"success",msg:"",title:"",importance:0},conflicts:[]}}},{key:"domainValidator",value:function(t,e){var a=this,i=this.state.data.findIndex(function(t){return t.id===e.id});if(i>-1){var n=[];for(var s in this.state.conflicts.duplicates){var r=this.state.conflicts.duplicates[s];(i=r.indexOf(e.id))>-1&&r.splice(i,1),r.length>0&&n.push(r)}this.state.conflicts.duplicates=n,setTimeout(function(){a.updateConflicts(e),a.computeChains(),a.resetButtons()},200)}return{isValid:!0,notification:{type:"success",msg:"",title:"",importance:0},conflicts:[]}}},{key:"updateConflicts",value:function(t){var e=t.domain,a=!0;for(var i in this.state.conflicts.duplicates){var n=this.state.conflicts.duplicates[i];if(e===this.state.data[this.state.data.findIndex(function(t){return t.id===n[0]})].domain){n.push(t.id),a=!1;break}}a&&this.state.conflicts.duplicates.push([t.id])}},{key:"getConflicts",value:function(t){var e=[],a=[];for(var i in this.state.conflicts.duplicates){if((s=this.state.conflicts.duplicates[i]).indexOf(t)>-1){e=s;break}}for(var n in this.state.conflicts.chains){var s;if((s=this.state.conflicts.chains[n]).indexOf(t)>-1){a=s;break}}return{id:t,duplicates:e,chains:a}}},{key:"validateButtons",value:function(t){var e=this,a=this.getConflicts(t),i=!1,n=!1;if(a.duplicates.length>1&&(i=!0,a.duplicates.forEach(function(t){var a=document.getElementById(e.state.button_check_prefix+t);a&&(a.className="check warning",a.innerHTML="\xd7",a.style.opacity=e.state.high_opacity)})),a.chains.length>1&&(n=!0,a.chains.forEach(function(t){var a=document.getElementById(e.state.button_check_prefix+t);a&&(a.className="check error",a.innerHTML="\xd7",a.style.opacity=e.state.high_opacity)})),n){var s=a.chains.reduce(function(t,e){return t+" id("+e+") =>"},""),r="Chain",o="";return a.chains[0]===a.chains[a.chains.length-1]&&(r="Loop",o="..."),document.getElementById(this.state.error_div_id).className="alert alert-danger",document.getElementById(this.state.error_id).innerHTML=r+" error: "+s.substring(0,s.length-3)+o,["check error","\xd7"]}if(i)return document.getElementById(this.state.error_div_id).className="alert alert-warning",document.getElementById(this.state.error_id).innerHTML="Duplicated Domain: "+this.state.data[this.state.data.findIndex(function(e){return e.id===t})].domain,["check warning","\xd7"];var c=document.getElementById(this.state.button_check_prefix+t);return c&&(c.style.opacity=this.state.high_opacity),document.getElementById(this.state.error_div_id).className="alert alert-success",document.getElementById(this.state.error_id).innerHTML="Valid entry",["check valid","\u2713"]}},{key:"resetButtons",value:function(){var t=this.state.conflicts.duplicates.filter(function(t){return t.length>1}).length,e=this.state.conflicts.chains.length;for(var a in 0===t&&0===e?(document.getElementById(this.state.error_div_id).className="alert alert-success",document.getElementById(this.state.error_id).innerHTML="Conflicts free dictionary"):0===e?(document.getElementById(this.state.error_div_id).className="alert alert-warning",document.getElementById(this.state.error_id).innerHTML=t+" duplicated domains in this dictionary"):(document.getElementById(this.state.error_div_id).className="alert alert-danger",document.getElementById(this.state.error_id).innerHTML=e+" error"+(e>1?"s":"")+" in this dictionary"),this.state.data){var i=this.state.button_check_prefix+this.state.data[a].id,n=document.getElementById(i),s=!0;for(var r in this.state.conflicts.duplicates){var o=this.state.conflicts.duplicates[r];if(o.indexOf(this.state.data[a].id)>-1&&o.length>1){n.className="check warning",n.innerHTML="\xd7",n.style.opacity=this.state.low_opacity,s=!1;break}}for(var c in this.state.conflicts.chains){if(this.state.conflicts.chains[c].indexOf(this.state.data[a].id)>-1){n.className="check error",n.innerHTML="\xd7",n.style.opacity=this.state.low_opacity,s=!1;break}}s&&(n.className="check valid",n.innerHTML="\u2713",n.style.opacity=this.state.low_opacity)}}},{key:"addButton",value:function(t){var e=this,a=this.validateButtons(t),i=document.createElement("button");i.id=this.state.button_check_prefix+t,i.className=a[0],i.innerHTML=a[1],i.type="button",i.addEventListener("mouseover",function(){return e.validateButtons(t)}),i.addEventListener("mouseout",function(){return e.resetButtons()}),document.getElementById(this.state.button_group_id).appendChild(i),document.getElementById(this.state.error_div_id).style.opacity=this.state.high_opacity}}]),Object(c.a)(e,[{key:"render",value:function(){return this.state.button_group_id="button-group-"+this.props.tab_id,this.state.tab_id=this.props.tab_id,this.state.error_div_id="error-div-"+this.props.tab_id,this.state.error_id="error-"+this.props.tab_id,this.state.button_check_prefix=this.props.tab_id+"-check-",n.a.createElement("div",null,n.a.createElement("div",{class:"button-wrapper"},n.a.createElement("div",{id:this.state.button_group_id,class:"btn-group-vertical mr-2-lg"})),n.a.createElement("div",{class:"table-wrapper"},n.a.createElement(p.BootstrapTable,{data:this.state.data,cellEdit:g,insertRow:!0,search:!0,options:{afterInsertRow:this.onAfterInsertRow,afterDeleteRow:this.onAfterDeleteRow},deleteRow:!0,selectRow:v,exportCSV:!0},n.a.createElement(p.TableHeaderColumn,{dataField:"id",isKey:!0,dataFormat:this.idFormatter},"ID"),n.a.createElement(p.TableHeaderColumn,{dataField:"domain",dataFormat:this.domainFormatter,editable:{validator:this.domainValidator}},"Domain"),n.a.createElement(p.TableHeaderColumn,{dataField:"range",editable:{validator:this.rangeValidator},dataFormat:this.rangeFormatter},"Range"))))}}]),e}(i.Component),y=1;document.getElementById("addTableButton").onclick=function(){y+=1;var t=document.createElement("div");t.className="grid-item",t.id=y,document.getElementById("grid").appendChild(t),r.a.render(n.a.createElement("div",null,n.a.createElement("div",{className:"button-div"},n.a.createElement("button",{type:"button",className:"close",onClick:function(){var e=document.getElementById(t.id);e.parentNode.removeChild(e)}},"\xd7")),n.a.createElement("div",null,n.a.createElement("div",{id:"error-div-"+t.id,className:"empyt-error"},n.a.createElement("p",{id:"error-"+t.id})),n.a.createElement(b,{tab_id:t.id}))),document.getElementById(y))},"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[35,2,1]]]);
//# sourceMappingURL=main.382020ce.chunk.js.map